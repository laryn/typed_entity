services:
  # Article.
  typed_entity_test.article:
    class: Drupal\typed_entity_test\TypedRepositories\ArticleRepository
    parent: Drupal\typed_entity\TypedRepositories\TypedEntityRepositoryBase
    public: true
    tags:
      -
        name: typed_entity_repository
        entity_type_id: node
        bundle: article
        wrapper_class: Drupal\typed_entity_test\WrappedEntities\Article
    calls:
      - ['addRenderer', ['@typed_entity_test.article.renderer.teaser']]
      - ['addRenderer', ['@typed_entity_test.article.renderer.conditional_render']]
  typed_entity_test.article.renderer.teaser:
    class: Drupal\typed_entity_test\Render\Article\Teaser
    parent: Drupal\typed_entity\Render\TypedEntityRendererBase
  typed_entity_test.article.renderer.conditional_render:
    class: Drupal\typed_entity_test\Render\Article\ConditionalRenderer
    parent: Drupal\typed_entity\Render\TypedEntityRendererBase
    arguments: ['@state']

  # Page.
  typed_entity_test.page:
    class: Drupal\typed_entity\TypedRepositories\TypedEntityRepositoryBase
    parent: Drupal\typed_entity\TypedRepositories\TypedEntityRepositoryBase
    public: true
    tags:
      -
        name: typed_entity_repository
        entity_type_id: node
        bundle: page
        wrapper_class: Drupal\typed_entity_test\WrappedEntities\Page
        fallback_renderer: 'typed_entity_test.page.renderer.base'
  typed_entity_test.page.renderer.base:
    class: Drupal\typed_entity_test\Render\Page\Base
    parent: Drupal\typed_entity\Render\TypedEntityRendererBase
